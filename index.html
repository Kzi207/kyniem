<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K·ª∑ Ni·ªám C·ªßa Ch√∫ng Ta</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #fef6f6;
        }
        
        .heart-beat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .memory-card {
            transition: all 0.3s ease;
        }
        
        .memory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .music-player {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
        }
        
        .progress-bar {
            height: 6px;
            background-color: rgba(255,255,255,0.3);
            border-radius: 3px;
        }
        
        .progress {
            height: 100%;
            background-color: white;
            border-radius: 3px;
            width: 0%;
        }

        /* Mobile Menu Styles */
        #mobile-menu {
            width: 80%;
            max-width: 300px;
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
            transform: translateX(100%);
            transition: transform 0.3s ease-out;
            right: 0;
            left: auto;
        }

        #mobile-menu.show {
            transform: translateX(0);
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .menu-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        @media (min-width: 768px) {
            #mobile-menu, .menu-overlay {
                display: none !important;
            }
        }

        .quiz-container {
            background: linear-gradient(to right, #9e0142, #d93b67);
            padding: 40px 30px;
            border-radius: 16px;
            color: white;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            text-align: center;
        }
        .quiz-container h2 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        .quiz-container p {
            font-size: 16px;
            margin-bottom: 30px;
        }
        .stats {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
        }
        .stat-box {
            background-color: rgba(0,0,0,0.2);
            flex: 1;
            min-width: 120px;
            padding: 20px 10px;
            border-radius: 12px;
        }
        .stat-box h3 {
            font-size: 26px;
            margin: 0 0 8px;
        }
        .stat-box span {
            font-size: 16px;
            opacity: 0.9;
        }
        #lock-screen { z-index: 9999; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .num-btn { width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 22px; font-weight: 600; color: white; cursor: pointer; user-select: none; background: rgba(255,255,255,0.1); border: none; outline: none; transition: all 0.2s; }
        .num-btn:active { background: rgba(255,255,255,0.3); transform: scale(0.95); }
        .num-btn.empty { visibility: hidden; }
        .delete-btn { background: transparent; color: white; font-size: 20px; }
        body {
        -webkit-user-select: none; /* Chrome/Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* IE10+ */
        user-select: none; /* Standard syntax */
    }

    /* Cho ph√©p b√¥i ƒëen tr√™n c√°c ph·∫ßn t·ª≠ input v√† textarea */
    input, textarea {
        -webkit-user-select: text !important;
        -moz-user-select: text !important;
        -ms-user-select: text !important;
        user-select: text !important;
    }
    </style>
</head>
<body class="min-h-screen">
    <!-- M√†n h√¨nh nh·∫≠p m·∫≠t kh·∫©u -->
    <div id="lock-screen" class="fixed inset-0 flex flex-col justify-center items-center bg-gradient-to-br from-purple-700 to-pink-500 z-50 min-h-screen">
        <i class="fas fa-lock text-4xl text-white mb-4"></i>
        <h1 class="text-white text-2xl font-bold mb-2">Nh·∫≠p m·∫≠t kh·∫©u</h1>
        <p class="text-white text-opacity-80 mb-6">Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u 8 ch·ªØ s·ªë</p>
        <div class="flex gap-3 mb-6" id="passcode-dots">
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-1"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-2"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-3"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-4"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-5"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-6"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-7"></div>
            <div class="w-4 h-4 rounded-full bg-white bg-opacity-30" id="dot-8"></div>
        </div>
        <div class="grid grid-cols-3 gap-4 max-w-xs mx-auto mb-4">
            <button class="num-btn" data-number="1">1</button>
            <button class="num-btn" data-number="2">2</button>
            <button class="num-btn" data-number="3">3</button>
            <button class="num-btn" data-number="4">4</button>
            <button class="num-btn" data-number="5">5</button>
            <button class="num-btn" data-number="6">6</button>
            <button class="num-btn" data-number="7">7</button>
            <button class="num-btn" data-number="8">8</button>
            <button class="num-btn" data-number="9">9</button>
            <button class="num-btn empty"></button>
            <button class="num-btn" data-number="0">0</button>
            <button class="num-btn delete-btn" id="delete-btn"><i class="fas fa-delete-left"></i></button>
        </div>
        <div id="passcode-error" class="text-red-200 text-sm mt-2 hidden">Sai m·∫≠t kh·∫©u, th·ª≠ l·∫°i nh√©!</div>
    </div>
    <!-- To√†n b·ªô app b·ªçc trong main-app, ·∫©n m·∫∑c ƒë·ªãnh -->
    <div id="main-app" class="hidden">
    <!-- Header -->
    <header class="bg-pink-600 text-white shadow-lg sticky top-0 z-30">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-heart text-2xl heart-beat"></i>
                    <h1 class="text-xl font-bold">K·ª∑ Ni·ªám C·ªßa Ch√∫ng Ta</h1>
                </div>
                <nav class="hidden md:block">
                    <ul class="flex space-x-6">
                        <li><button data-tab="home" class="font-medium hover:text-pink-200 transition-colors tab-button active">Trang ch·ªß</button></li>
                        <li><button data-tab="memories" class="font-medium hover:text-pink-200 transition-colors tab-button">K√Ω ·ª©c</button></li>
                        <li><button data-tab="countdown" class="font-medium hover:text-pink-200 transition-colors tab-button">ƒê·∫øm ng√†y y√™u</button></li>
                        <li><button data-tab="music" class="font-medium hover:text-pink-200 transition-colors tab-button">Nh·∫°c y√™u th√≠ch</button></li>
                        <li><button data-tab="quiz" class="font-medium hover:text-pink-200 transition-colors tab-button">S·ª± hi·ªÉu nhau</button></li>
                        <li><button data-tab="plan" class="font-medium hover:text-pink-200 transition-colors tab-button">K·∫ø ho·∫°ch t∆∞∆°ng lai</button></li>
                        <li><button data-tab="album" class="font-medium hover:text-pink-200 transition-colors tab-button">H√¨nh ·∫£nh & Video</button></li>
                        <li><button id="roundabout-menu-btn" class="font-medium hover:text-pink-200 transition-colors tab-button">V√≤ng quay</button></li>
                        <li><button data-tab="letter" class="font-medium hover:text-pink-200 transition-colors tab-button">Th∆∞ g·ª≠i em</button></li>
                        <li><button data-tab="mistake" class="font-medium hover:text-pink-200 transition-colors tab-button">L·ªói c·ªßa anh</button></li>
                    </ul>
                </nav>
                <button class="md:hidden text-2xl" id="mobile-menu-button">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8" id="main-content">
        <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c thay ƒë·ªïi b·∫±ng JavaScript -->
    </main>

    <!-- Footer -->
    <footer class="bg-white shadow-inner mt-12 py-6">
        <div class="container mx-auto px-4 text-center text-gray-600">
            <p>¬© 2025 K·ª∑ Ni·ªám C·ªßa Ch√∫ng Ta | ƒê∆∞·ª£c t·∫°o v·ªõi ‚ù§Ô∏è d√†nh ri√™ng cho em</p>
        </div>
    </footer>

    <!-- Mobile Menu -->
    <div class="menu-overlay" id="menu-overlay"></div>
    <div id="mobile-menu" class="fixed inset-y-0 right-0 bg-white z-50">
        <div class="container mx-auto px-4 py-6 h-full overflow-y-auto">
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-heart text-2xl text-pink-600"></i>
                    <h1 class="text-xl font-bold text-pink-600">K·ª∑ Ni·ªám C·ªßa Ch√∫ng Ta</h1>
                </div>
                <button id="close-mobile-menu" class="text-gray-600 text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <nav>
                <ul class="space-y-4">
                    <li>
                        <button data-tab="home" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-home mr-2"></i> Trang ch·ªß
                        </button>
                    </li>
                    <li>
                        <button data-tab="memories" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-images mr-2"></i> K√Ω ·ª©c
                        </button>
                    </li>
                    <li>
                        <button data-tab="countdown" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-heartbeat mr-2"></i> ƒê·∫øm ng√†y y√™u
                        </button>
                    </li>
                    <li>
                        <button data-tab="music" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-music mr-2"></i> Nh·∫°c y√™u th√≠ch
                        </button>
                    </li>
                    <li>
                        <button data-tab="album" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-photo-video mr-2"></i> H√¨nh ·∫£nh & Video
                        </button>
                    </li>
                    <li>
                        <button data-tab="quiz" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-brain mr-2"></i> S·ª± hi·ªÉu nhau
                        </button>
                    </li>
                    <li>
                        <button data-tab="plan" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-calendar-alt mr-2"></i> K·∫ø ho·∫°ch t∆∞∆°ng lai
                        </button>
                    </li>
                    
                    <li>
                        <button id="roundabout-menu-btn-mobile" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-rotate mr-2"></i> V√≤ng quay k√Ω ·ª©c
                        </button>
                    </li>
                    <li>
                        <button data-tab="letter" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-envelope mr-2"></i> Th∆∞
                        </button>
                    </li>
                    <li>
                        <button data-tab="mistake" class="w-full text-left py-2 px-4 rounded-lg font-medium hover:bg-pink-100 text-gray-800 tab-button">
                            <i class="fas fa-bug mr-2"></i> L·ªói c·ªßa anh
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Music Player (Hidden) -->
    <audio id="music-player" class="hidden"></audio>

    <!-- Templates -->
    <template id="home-template">
        <section class="max-w-4xl mx-auto text-center">
            <h2 class="text-4xl font-bold mb-4 text-pink-700">Ch√†o m·ª´ng ƒë·∫øn v·ªõi n∆°i l∆∞u gi·ªØ k·ª∑ ni·ªám c·ªßa ch√∫ng ta!</h2>
            <p class="text-xl mb-8 text-gray-700">·ªû ƒë√¢y, ch√∫ng ta s·∫Ω c√πng nhau x√¢y d·ª±ng m·ªôt cu·ªën nh·∫≠t k√Ω t√¨nh y√™u ƒë·∫ßy m√†u s·∫Øc v√† ng·ªçt ng√†o.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                <div class="bg-white p-6 rounded-lg shadow-lg transform transition duration-300 hover:scale-105">
                    <div class="text-5xl text-pink-500 mb-4">üì∏</div>
                    <h3 class="text-xl font-semibold mb-2">K√Ω ·ª©c ƒë√°ng nh·ªõ</h3>
                    <p class="text-gray-600">L∆∞u gi·ªØ nh·ªØng h√¨nh ·∫£nh v√† kho·∫£nh kh·∫Øc ƒë·∫πp nh·∫•t c·ªßa ch√∫ng ta</p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-lg transform transition duration-300 hover:scale-105">
                    <div class="text-5xl text-pink-500 mb-4">‚è≥</div>
                    <h3 class="text-xl font-semibold mb-2">ƒê·∫øm ng√†y y√™u</h3>
                    <p class="text-gray-600">Theo d√µi t·ª´ng ng√†y tr√¥i qua k·ªÉ t·ª´ ng√†y ch√∫ng ta b·∫Øt ƒë·∫ßu</p>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-lg transform transition duration-300 hover:scale-105">
                    <div class="text-5xl text-pink-500 mb-4">üéµ</div>
                    <h3 class="text-xl font-semibold mb-2">Nh·∫°c y√™u th√≠ch</h3>
                    <p class="text-gray-600">Nghe l·∫°i nh·ªØng b√†i h√°t ƒë√£ g·∫Øn li·ªÅn v·ªõi c√¢u chuy·ªán c·ªßa ch√∫ng ta</p>
                </div>
            </div>

            <div class="bg-gradient-to-r from-pink-400 to-purple-400 p-8 rounded-xl shadow-xl text-white">
                <h3 class="text-2xl font-bold mb-4">H√¥m nay l√† m·ªôt ng√†y ƒë·∫∑c bi·ªát!</h3>
                <p class="mb-6">H√£y c√πng nhau t·∫°o th√™m th·∫≠t nhi·ªÅu k·ª∑ ni·ªám ƒë·∫πp nh√©. D√π c√≥ th·ªÉ ƒë√¥i khi m·ªát m·ªèi hay bu·ªìn b·ª±c, nh∆∞ng ch·ªâ c·∫ßn nh√¨n th·∫•y em c∆∞·ªùi l√† anh c·∫£m th·∫•y m·ªçi th·ª© ƒë·ªÅu tr·ªü n√™n t∆∞∆°i s√°ng h∆°n.</p>
                <button class="bg-white text-pink-600 px-6 py-3 rounded-full font-semibold shadow-md hover:bg-pink-100 transition-colors">
                    Xem t·∫•t c·∫£ k·ª∑ ni·ªám
                </button>
            </div>
        </section>
    </template>

    <template id="memories-template">
        <section class="max-w-5xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center text-pink-700">Kho t√†ng k√Ω ·ª©c c·ªßa ch√∫ng ta</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="memories-container">
                <!-- K·ª∑ ni·ªám s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
            </div>
        </section>
    </template>

    <template id="countdown-template">
        <section class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center text-pink-700">Ch√∫ng ta ƒë√£ ·ªü b√™n nhau</h2>
            
            <!-- Avatars and names -->
            <div class="flex justify-center items-center space-x-8 mb-8">
                <div class="flex flex-col items-center">
                    <img src="./img/avtnam.jpg" alt="Nam" class="w-20 h-20 rounded-full border-4 border-pink-400 shadow-md mb-2">
                    <span class="font-semibold text-pink-700">Nam</span>
                </div>
                <span class="text-3xl text-pink-400 font-bold">‚ù§Ô∏è</span>
                <div class="flex flex-col items-center">
                    <img src="./img/avtnu.jpg" alt="N·ªØ" class="w-20 h-20 rounded-full border-4 border-pink-400 shadow-md mb-2">
                    <span class="font-semibold text-pink-700">N·ªØ</span>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-xl p-10 text-center max-w-md mx-auto">
                <div class="text-6xl font-bold text-pink-600 mb-4" id="days-together">0</div>
                <div class="text-xl text-gray-600 mb-8">ng√†y y√™u th∆∞∆°ng</div>
                
                <div class="flex justify-center space-x-6 mb-8">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-pink-500" id="hours-together">00</div>
                        <div class="text-sm text-gray-500">Gi·ªù</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-pink-500" id="minutes-together">00</div>
                        <div class="text-sm text-gray-500">Ph√∫t</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-pink-500" id="seconds-together">00</div>
                        <div class="text-sm text-gray-500">Gi√¢y</div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-pink-100 to-purple-100 p-4 rounded-lg mb-6">
                    <p class="text-pink-700">T√¨nh y√™u kh√¥ng ph·∫£i l√† ƒë·∫øm ng√†y, m√† l√† l√†m cho m·ªói ng√†y ƒë·ªÅu ƒë√°ng nh·ªõ</p>
                </div>
                
                <button class="bg-pink-500 hover:bg-pink-600 text-white font-medium px-6 py-3 rounded-full transition-colors">
                    Xem l·ªãch s·ª≠ ng√†y y√™u
                </button>
            </div>
            <!-- Danh s√°ch s·ª± ki·ªán quan tr·ªçng -->
            <div class="mt-10 max-w-md mx-auto bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold text-pink-600 mb-4">S·ª± ki·ªán quan tr·ªçng s·∫Øp t·ªõi</h3>
                <ul id="important-dates-list" class="space-y-3">
                    <!-- Danh s√°ch s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t b·∫±ng JS -->
                </ul>
            </div>
        </section>
    </template>

    <template id="music-template">
        <section class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center text-pink-700">Danh s√°ch nh·∫°c y√™u th√≠ch</h2>
            
            <div class="bg-white rounded-xl shadow-xl p-6 max-w-md mx-auto">
                <div class="flex items-center justify-center mb-6">
                    <img id="album-cover" src="" alt="Album cover" class="w-24 h-24 rounded-lg shadow-md object-cover mr-4">
                    <div class="text-left">
                        <h3 class="font-bold text-lg text-pink-600" id="song-title">B√†i h√°t</h3>
                        <p class="text-gray-600 text-sm" id="song-artist">Ngh·ªá sƒ©</p>
                    </div>
                </div>
                
                <div class="mb-6">
                    <div class="progress-bar mb-1">
                        <div class="progress" id="progress-bar"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500">
                        <span id="current-time">0:00</span>
                        <span id="duration">0:00</span>
                    </div>
                </div>
                
                <div class="flex justify-center items-center space-x-6">
                    <button id="prev-song" class="text-gray-500 hover:text-pink-500 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
                        </svg>
                    </button>
                    
                    <button id="play-button" class="bg-pink-500 hover:bg-pink-600 text-white p-4 rounded-full shadow-lg transform transition-transform hover:scale-105 focus:outline-none">
                        <i class="fas fa-play" id="play-icon"></i>
                    </button>
                    
                    <button id="next-song" class="text-gray-500 hover:text-pink-500 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>
                
                <div class="mt-8">
                    <h3 class="font-bold text-gray-700 mb-3">Danh s√°ch ph√°t</h3>
                    <ul class="space-y-2" id="playlist">
                        <!-- Danh s√°ch b√†i h√°t s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                    </ul>
                </div>
            </div>
        </section>
    </template>

    <template id="quiz-template">
        <section class="flex justify-center items-center min-h-[60vh]">
            <div class="quiz-container">
                <h2>B·∫°n hi·ªÉu nhau ƒë·∫øn ƒë√¢u?</h2>
                <div class="stats">
                    <div class="stat-box">
                        <h3>85%</h3>
                        <span>Hi·ªÉu t√≠nh c√°ch</span>
                    </div>
                    <div class="stat-box">
                        <h3>92%</h3>
                        <span>S·ªü th√≠ch</span>
                    </div>
                    <div class="stat-box">
                        <h3>78%</h3>
                        <span>Th√≥i quen</span>
                    </div>
                    <div class="stat-box">
                        <h3>95%</h3>
                        <span>T√¨nh c·∫£m</span>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="plan-template">
        <section class="min-h-[60vh]">
            <style>
                body.plan-tab {
                    background-color: #2c002d !important;
                    color: #fff !important;
                }
                .plan-container {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 20px;
                }
                .plan-card {
                    flex: 1;
                    background-color: #1e1e1e;
                    padding: 24px;
                    border-radius: 16px;
                    display: flex;
                    flex-direction: column;
                    min-width: 280px;
                    max-width: 400px;
                    position: relative;
                }
                .plan-icon {
                    background-color: #8a004f;
                    width: 48px;
                    height: 48px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 24px;
                    margin-bottom: 10px;
                }
                .plan-title {
                    font-weight: bold;
                    font-size: 20px;
                    margin-bottom: 10px;
                }
                .plan-desc {
                    color: #ccc;
                    font-size: 15px;
                    line-height: 1.5;
                    margin-bottom: 15px;
                }
                .plan-date {
                    font-size: 14px;
                    color: #bbb;
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }
                .plan-date i {
                    font-style: normal;
                    font-size: 16px;
                }
                @media (max-width: 768px) {
                    .plan-container {
                        flex-direction: column;
                    }
                }
            </style>
            <h2 style="color:#ff4081; margin-bottom:30px;">K·∫ø ho·∫°ch t∆∞∆°ng lai</h2>
            <div class="plan-container">
                <!-- K·∫øt h√¥n -->
                <div class="plan-card">
                    <div class="plan-icon">üíç</div>
                    <div class="plan-title">B√°o nhau</div>
                    <div class="plan-desc"></div>
                    <div class="plan-date"><i>üìÖ</i> D·ª± ki·∫øn: 20/10/2025</div>
                </div>
                <!-- Mua nh√† -->
                <div class="plan-card">
                    <div class="plan-icon">üè†</div>
                    <div class="plan-title">Mua nh√†</div>
                    <div class="plan-desc">CƒÉn h·ªô 2 ph√≤ng ng·ªß t·∫°i khu ƒë√¥ th·ªã m·ªõi, c√≥ ban c√¥ng h∆∞·ªõng Nam ƒë√≥n n·∫Øng.</div>
                    <div class="plan-date"><i>üìÖ</i> D·ª± ki·∫øn: 2024</div>
                </div>
            </div>
        </section>
    </template>

    <template id="album-template">
        <section class="flex justify-center items-center min-h-[60vh] bg-black">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
            <div class="swiper" style="width:90vw;max-width:800px;height:90vh;border-radius:12px;overflow:hidden;box-shadow:0 0 20px rgba(255,255,255,0.2);">
                <div class="swiper-wrapper" id="album">
                    <!-- ·∫¢nh s·∫Ω ƒë∆∞·ª£c th√™m t·ª± ƒë·ªông ·ªü ƒë√¢y -->
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </section>
    </template>

    <template id="letter-template">
        <section class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center text-pink-700">Th∆∞ g·ª≠i em</h2>
            
            <!-- Form vi·∫øt th∆∞ m·ªõi -->
            <div class="bg-white rounded-xl shadow-xl p-8 max-w-2xl mx-auto mb-8">
                <h3 class="text-xl font-bold text-pink-600 mb-6">Vi·∫øt th∆∞ g·ª≠i em üíñ</h3>
                <form id="new-letter-form">
                    <div class="mb-4">
                        <label for="letter-title" class="block text-sm font-medium text-gray-700 mb-2">Ti√™u ƒë·ªÅ th∆∞:</label>
                        <input type="text" id="letter-title" name="title" placeholder="Nh·∫≠p ti√™u ƒë·ªÅ th∆∞..." 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" required>
                    </div>
                    <div class="mb-4">
                        <label for="letter-content" class="block text-sm font-medium text-gray-700 mb-2">N·ªôi dung th∆∞:</label>
                        <textarea id="letter-content" name="content" rows="6" placeholder="Vi·∫øt nh·ªØng l·ªùi y√™u th∆∞∆°ng cho em..." 
                                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" required></textarea>
                    </div>
                    <button type="submit" class="bg-pink-500 hover:bg-pink-600 text-white font-medium px-6 py-3 rounded-lg transition-colors">
                        <i class="fas fa-paper-plane mr-2"></i>G·ª≠i th∆∞ üíñ
                    </button>
                </form>
            </div>
            
            <!-- Danh s√°ch th∆∞ ƒë√£ vi·∫øt -->
            <div class="bg-white rounded-xl shadow-xl p-8 max-w-4xl mx-auto">
                <h3 class="text-xl font-bold text-pink-600 mb-6">Nh·ªØng b·ª©c th∆∞ ƒë√£ vi·∫øt ‚ú®</h3>
                <div id="letters-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Th∆∞ s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                </div>
            </div>
        </section>
    </template>

    <template id="mistake-template">
      <style>
        body.mistake-tab {
          background: linear-gradient(to right, #ffdde1, #ee9ca7) !important;
        }
        .mistake-form-container h1 {
          text-align: center;
          color: #d72638;
        }
        .mistake-form-container form {
          max-width: 600px;
          background: white;
          margin: auto;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .mistake-form-container label {
          font-weight: bold;
          margin-top: 15px;
          display: block;
        }
        .mistake-form-container textarea {
          width: 100%;
          border-radius: 8px;
          padding: 10px;
          margin-top: 5px;
          border: 1px solid #ccc;
        }
        .mistake-form-container button {
          background: #ff6f61;
          color: white;
          padding: 10px 20px;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          margin-top: 20px;
        }
        .mistake-form-container .success {
          text-align: center;
          color: green;
          font-weight: bold;
          margin-top: 20px;
        }
        .mistake-entries {
          max-width: 600px;
          margin: 40px auto;
          background: white;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .mistake-entries .entry {
          border-left: 5px solid #ff6f61;
          background: #fff9f9;
          padding: 10px;
          margin-bottom: 15px;
          border-radius: 10px;
        }
        .mistake-entries .stats {
          text-align: center;
          font-size: 18px;
          color: #333;
          margin-top: 10px;
        }
      </style>
      <div class="mistake-form-container">
        <h1>Em gi·∫≠n anh v√¨... ü•∫</h1>
        <form id="loveForm">
          <label>L·ªói c·ªßa anh:</label>
          <textarea name="data[mistake]" placeholder="V√≠ d·ª•: Qu√™n ng√†y k·ª∑ ni·ªám..." required></textarea>
          <label>Em mu·ªën anh l√†m g√¨:</label>
          <textarea name="data[suggestion]" placeholder="V√≠ d·ª•: Vi·∫øt th∆∞ tay, xin l·ªói nh·∫π nh√†ng..." required></textarea>
          <input type="hidden" name="data[time]" id="timestamp" />
          <button type="submit">G·ª≠i cho anh üì®</button>
          <div class="success" id="successMsg" style="display: none;">G·ª≠i th√†nh c√¥ng r·ªìi nha! üíå</div>
        </form>
      </div>
      <div class="mistake-entries" id="entries">
        <h2>Danh s√°ch l·ªói c·ªßa anh üìú</h2>
        <div class="stats" id="errorCount">ƒêang t·∫£i th·ªëng k√™...</div>
        <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
      </div>
    </template>

    <script>
        // D·ªØ li·ªáu ·ª©ng d·ª•ng
        const appData = {
            activeTab: 'home',
            daysTogether: 0,
            musicPlaying: false,
            currentSongIndex: 0,
            songs: [
                {
                    title: "Ch√∫ng Ta C·ªßa Hi·ªán T·∫°i", ///// t√™n b√†i h√°t
                    artist: "S∆°n T√πng M-TP",     //// ngh·ªá sƒ©
                    src: "./music/chungtacuahientay.mp3",   
                    cover: "https://i.scdn.co/image/ab67616d00001e02ff9ca10b55ce82ae553c8228"
                },
                {
                    title: "C√≥ Ch·∫Øc Y√™u L√† ƒê√¢y",
                    artist: "S∆°n T√πng M-TP",
                    src: "./music/cochacyeuladay.mp3",
                    cover: "https://i.scdn.co/image/ab67616d00001e02663e3c7b4c3347e610b0a5a0"
                },
                {
                    title: "N∆°i N√†y C√≥ Anh",
                    artist: "S∆°n T√πng M-TP",
                    src: "./music/noinaycoanh.mp3",
                    cover: "https://i.scdn.co/image/ab67616d00001e02a48964b5d9a3d6968ae3e0de"
                },
                {
                    title: "Anh L√† C·ªßa Em",
                    artist: "Karik",
                    src: "./music/anhlacuaem.mp3",
                    cover: "https://i.scdn.co/image/ab67616d00001e02a48964b5d9a3d6968ae3e0de"
                }
            ],
            memories: [
                {
                    id: 1,
                    title: "Ng√†y ƒë·∫ßu ti√™n g·∫∑p nhau",
                    date: "29/09/2024",
                    image: "./img/10.png",
                    description: "Ng√†y ƒë·∫ßu ti√™n ch√∫ng ta g·∫∑p nhau t·∫°i tr∆∞·ªùng t·∫∑ng cho s·ª≠a cho em."
                },
                {
                    id: 2,
                    title: "ƒêi ch∆°i c√πng nhau",
                    date: "",
                    image: "./img/3.jpg",
                    description: "K·ª∑ ni·ªám chuy·∫øn du l·ªãch ƒë·∫ßu ti√™n c·ªßa hai ƒë·ª©a. C·∫£nh ƒë·∫πp, ng∆∞·ªùi ƒë·∫πp, m·ªçi th·ª© th·∫≠t ho√†n h·∫£o..."
                },
                {
                    id: 3,
                    title: "ƒêi ch·ª•p h√¨nh n√®",
                    date: "30/7/2025",
                    image: "./img/9.jpg",
                    description: "Nh·ªØng t·∫•m ·∫£nh t·ª± ch·ª•p c√πng nhau<3"
                }
            ],
            importantDates: [
                { name: "Sinh nh·∫≠t anh", date: "22/11/", countdown: "C√≤n 120 ng√†y" },
                { name: "Sinh nh·∫≠t em", date: "09/11/", countdown: "C√≤n 40 ng√†y" },
                { name: "Ng√†y k·ª∑ ni·ªám", date: "08/10/", countdown: "C√≤n 85 ng√†y" },
                { name: "Valentine", date: "14/2/", countdown: "C√≤n 215 ng√†y" }
            ],
            letters: [
                {
                    id: 1,
                    title: "Th∆∞ ƒë·∫ßu ti√™n g·ª≠i em",
                    date: "2024-10-08",
                    content: "Em y√™u, t·ª´ ng√†y ƒë·∫ßu ti√™n g·∫∑p em, anh ƒë√£ bi·∫øt r·∫±ng em ch√≠nh l√† ng∆∞·ªùi m√† anh ƒë√£ t√¨m ki·∫øm su·ªët cu·ªôc ƒë·ªùi n√†y. M·ªói ng√†y b√™n em l√† m·ªôt ng√†y h·∫°nh ph√∫c, m·ªói n·ª• c∆∞·ªùi c·ªßa em l√†m tr√°i tim anh rung ƒë·ªông. Anh y√™u em r·∫•t nhi·ªÅu! ‚ù§Ô∏è"
                },
                {
                    id: 2,
                    title: "Nh·ªØng l·ªùi y√™u th∆∞∆°ng",
                    date: "2024-11-15",
                    content: "Em c√≥ bi·∫øt kh√¥ng, m·ªói khi nh√¨n th·∫•y em, anh c·∫£m th·∫•y nh∆∞ c·∫£ th·∫ø gi·ªõi ƒë·ªÅu d·ª´ng l·∫°i. Em l√† √°nh s√°ng trong cu·ªôc ƒë·ªùi anh, l√† ni·ªÅm vui m·ªói s√°ng th·ª©c d·∫≠y. Anh mong r·∫±ng ch√∫ng ta s·∫Ω m√£i m√£i b√™n nhau, c√πng nhau x√¢y d·ª±ng m·ªôt t∆∞∆°ng lai t∆∞∆°i ƒë·∫πp. Y√™u em! üíï"
                },
                {
                    id: 3,
                    title: "L·ªùi h·ª©a c·ªßa anh",
                    date: "2024-12-20",
                    content: "Em y√™u, anh h·ª©a s·∫Ω lu√¥n y√™u th∆∞∆°ng, chƒÉm s√≥c v√† b·∫£o v·ªá em. Anh s·∫Ω l√†m t·∫•t c·∫£ ƒë·ªÉ em lu√¥n ƒë∆∞·ª£c h·∫°nh ph√∫c. D√π c√≥ kh√≥ khƒÉn g√¨, anh s·∫Ω lu√¥n ·ªü b√™n em, c√πng em v∆∞·ª£t qua m·ªçi th·ª≠ th√°ch. Anh y√™u em v√¥ c√πng! üåπ"
                }
            ]
        };

        // Kh·ªüi t·∫°o ·ª©ng d·ª•ng
        document.addEventListener('DOMContentLoaded', function() {
            // N·∫øu c√≥ hash #main th√¨ b·ªè qua m√†n h√¨nh kh√≥a
            if (window.location.hash === '#main') {
                const lockScreen = document.getElementById('lock-screen');
                const mainApp = document.getElementById('main-app');
                if (lockScreen && mainApp) {
                    lockScreen.classList.add('hidden');
                    mainApp.classList.remove('hidden');
                }
                // X√≥a hash ƒë·ªÉ kh√¥ng ·∫£nh h∆∞·ªüng l·∫ßn sau
                history.replaceState(null, '', window.location.pathname);
            }
            // Th√™m s·ª± ki·ªán cho n√∫t V√≤ng quay (menu desktop)
            const roundaboutBtn = document.getElementById('roundabout-menu-btn');
            if (roundaboutBtn) {
                roundaboutBtn.addEventListener('click', function() {
                    window.location.href = 'vongquay.html';
                });
            }
            // Th√™m s·ª± ki·ªán cho n√∫t V√≤ng quay (menu mobile)
            const roundaboutBtnMobile = document.getElementById('roundabout-menu-btn-mobile');
            if (roundaboutBtnMobile) {
                roundaboutBtnMobile.addEventListener('click', function() {
                    window.location.href = 'vongquay.html';
                });
            }
            // T√≠nh s·ªë ng√†y y√™u nhau
            calculateLoveDays();
            
            // C√†i ƒë·∫∑t tr√¨nh ph√°t nh·∫°c
            setupMusicPlayer();
            
            // Hi·ªÉn th·ªã tab m·∫∑c ƒë·ªãnh
            showTab(appData.activeTab);
            
            // Th√™m s·ª± ki·ªán cho c√°c n√∫t tab
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    const tab = this.getAttribute('data-tab');
                    showTab(tab);
                });
            });
            
            // X·ª≠ l√Ω menu mobile
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const closeMobileMenuButton = document.getElementById('close-mobile-menu');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOverlay = document.getElementById('menu-overlay');

            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.classList.add('show');
                menuOverlay.classList.add('show');
                document.body.style.overflow = 'hidden';
            });

            closeMobileMenuButton.addEventListener('click', closeMobileMenu);
            
            menuOverlay.addEventListener('click', closeMobileMenu);

            function closeMobileMenu() {
                mobileMenu.classList.remove('show');
                menuOverlay.classList.remove('show');
                document.body.style.overflow = '';
            }

            // ƒê√≥ng menu khi ch·ªçn m·ªôt tab tr√™n mobile
            document.querySelectorAll('#mobile-menu .tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    closeMobileMenu();
                    const tab = this.getAttribute('data-tab');
                    showTab(tab);
                });
            });

            // M√†n h√¨nh kh√≥a
            const lockScreen = document.getElementById('lock-screen');
            const mainApp = document.getElementById('main-app');
            const passcodeDots = [];
            for (let i = 1; i <= 8; i++) passcodeDots.push(document.getElementById(`dot-${i}`));
            const numButtons = lockScreen.querySelectorAll('.num-btn[data-number]');
            const deleteBtn = document.getElementById('delete-btn');
            const passcodeError = document.getElementById('passcode-error');
            let enteredPasscode = '';
            const correctPasscode = '09112009'; // ƒê·ªïi m·∫≠t kh·∫©u t·∫°i ƒë√¢y
            function updateDots() {
                passcodeDots.forEach((dot, idx) => {
                    if (idx < enteredPasscode.length) dot.classList.add('bg-white', 'shadow-lg');
                    else dot.classList.remove('bg-white', 'shadow-lg');
                });
            }
            numButtons.forEach(btn => btn.addEventListener('click', function() {
                if (enteredPasscode.length < 8) {
                    enteredPasscode += this.getAttribute('data-number');
                    updateDots();
                    if (enteredPasscode.length === 8) {
                        if (enteredPasscode === correctPasscode) {
                            lockScreen.classList.add('hidden');
                            mainApp.classList.remove('hidden');
                        } else {
                            passcodeError.classList.remove('hidden');
                            setTimeout(() => {
                                enteredPasscode = '';
                                updateDots();
                                passcodeError.classList.add('hidden');
                            }, 800);
                        }
                    }
                }
            }));
            deleteBtn.addEventListener('click', function() {
                if (enteredPasscode.length > 0) {
                    enteredPasscode = enteredPasscode.slice(0, -1);
                    updateDots();
                }
            });
            updateDots();

            // Th√™m s·ª± ki·ªán cho n√∫t 'Xem t·∫•t c·∫£ k·ª∑ ni·ªám' ·ªü Home
            document.body.addEventListener('click', function(e) {
                if (e.target.closest('button') && e.target.textContent.includes('Xem t·∫•t c·∫£ k·ª∑ ni·ªám')) {
                    showTab('album');
                }
            });
        });

        // T√≠nh s·ªë ng√†y y√™u nhau
        function calculateLoveDays() {
            const startDate = new Date("2024-10-08");
            const today = new Date();
            const diffTime = Math.abs(today - startDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            appData.daysTogether = diffDays;
            
            // C·∫≠p nh·∫≠t hi·ªÉn th·ªã n·∫øu tab countdown ƒëang hi·ªÉn th·ªã
            if (appData.activeTab === 'countdown') {
                document.getElementById('days-together').textContent = diffDays.toLocaleString();
            }
        }

        // Hi·ªÉn th·ªã tab ƒë∆∞·ª£c ch·ªçn
        function showTab(tabName) {
            appData.activeTab = tabName;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i active c·ªßa c√°c n√∫t tab
            document.querySelectorAll('.tab-button').forEach(button => {
                if (button.getAttribute('data-tab') === tabName) {
                    button.classList.add('text-pink-600');
                    button.classList.remove('text-gray-600');
                } else {
                    button.classList.remove('text-pink-600');
                    button.classList.add('text-gray-600');
                }
            });
            
            // L·∫•y template t∆∞∆°ng ·ª©ng
            const template = document.getElementById(`${tabName}-template`);
            const content = template.content.cloneNode(true);
            
            // X√≥a n·ªôi dung hi·ªán t·∫°i v√† th√™m n·ªôi dung m·ªõi
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = '';
            mainContent.appendChild(content);
            
            // T·∫£i d·ªØ li·ªáu c·ª• th·ªÉ cho tab
            switch(tabName) {
                case 'memories':
                    loadMemories();
                    break;
                case 'music':
                    loadMusicPlayer();
                    // Th√™m s·ª± ki·ªán cho c√°c n√∫t ƒëi·ªÅu khi·ªÉn nh·∫°c
                    document.getElementById('play-button').addEventListener('click', togglePlay);
                    document.getElementById('prev-song').addEventListener('click', prevSong);
                    document.getElementById('next-song').addEventListener('click', nextSong);
                    break;
                case 'countdown':
                    updateLoveTime();
                    if (window.loveInterval) clearInterval(window.loveInterval);
                    window.loveInterval = setInterval(updateLoveTime, 1000);
                    updateImportantDates();
                    break;
                case 'quiz':
                    // Kh√¥ng c·∫ßn t·∫£i d·ªØ li·ªáu c·ª• th·ªÉ cho quiz, ch·ªâ hi·ªÉn th·ªã giao di·ªán
                    break;
                case 'plan':
                    document.body.classList.add('plan-tab');
                    break;
                case 'album':
                    // Th√™m script Swiper n·∫øu ch∆∞a c√≥
                    if (!document.getElementById('swiper-script')) {
                        const s = document.createElement('script');
                        s.src = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js';
                        s.id = 'swiper-script';
                        document.body.appendChild(s);
                        s.onload = renderAlbum;
                    } else {
                        renderAlbum();
                    }
                    break;
                case 'letter':
                    loadLetters();
                    break;
                case 'mistake':
                    document.body.classList.add('mistake-tab');
                    showMistakeTab();
                    break;
                default:
                    document.body.classList.remove('plan-tab');
                    document.body.classList.remove('mistake-tab');
                    break;
            }
        }

        // T·∫£i danh s√°ch k·ª∑ ni·ªám
        function loadMemories() {
            const container = document.getElementById('memories-container');
            container.innerHTML = '';
            
            appData.memories.forEach(memory => {
                const memoryElement = document.createElement('div');
                memoryElement.className = 'bg-white rounded-lg overflow-hidden shadow-lg transform transition duration-300 hover:shadow-2xl hover:-translate-y-1 memory-card';
                memoryElement.innerHTML = `
                    <img src="${memory.image}" alt="${memory.title}" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-2 text-pink-600">${memory.title}</h3>
                        <p class="text-gray-600 text-sm">${memory.date} - ${memory.description}</p>
                        <div class="mt-3 flex justify-between text-sm text-gray-500">
                            <span>üì∑ H√¨nh ·∫£nh</span>
                            <span>‚ù§Ô∏è Th√™m v√†o y√™u th√≠ch</span>
                        </div>
                    </div>
                `;
                container.appendChild(memoryElement);
            });
        }

        // C√†i ƒë·∫∑t tr√¨nh ph√°t nh·∫°c
        function setupMusicPlayer() {
            const audio = document.getElementById('music-player');
            let progressInterval;
            
            // S·ª± ki·ªán khi metadata c·ªßa b√†i h√°t ƒë∆∞·ª£c t·∫£i
            audio.addEventListener('loadedmetadata', function() {
                document.getElementById('duration').textContent = formatTime(audio.duration);
            });
            
            // S·ª± ki·ªán khi b√†i h√°t k·∫øt th√∫c
            audio.addEventListener('ended', function() {
                nextSong();
            });
            
            // S·ª± ki·ªán khi th·ªùi gian ph√°t thay ƒë·ªïi
            audio.addEventListener('timeupdate', function() {
                const progress = (audio.currentTime / audio.duration) * 100;
                document.getElementById('progress-bar').style.width = `${progress}%`;
                document.getElementById('current-time').textContent = formatTime(audio.currentTime);
            });
        }

        // T·∫£i tr√¨nh ph√°t nh·∫°c
        function loadMusicPlayer() {
            const audio = document.getElementById('music-player');
            
            // C·∫≠p nh·∫≠t th√¥ng tin b√†i h√°t hi·ªán t·∫°i
            updateCurrentSong();
            
            // T·∫£i danh s√°ch ph√°t
            const playlist = document.getElementById('playlist');
            playlist.innerHTML = '';
            
            appData.songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.className = `p-2 rounded cursor-pointer transition-colors playlist-item ${index === appData.currentSongIndex ? 'bg-pink-100 text-pink-700' : 'hover:bg-gray-100'}`;
                li.setAttribute('data-index', index);
                li.innerHTML = `
                    <div class="flex justify-between items-center">
                        <span class="font-medium">${song.title}</span>
                        <span class="text-xs text-gray-500">${song.artist}</span>
                    </div>
                `;
                playlist.appendChild(li);
                
                // Th√™m s·ª± ki·ªán click cho t·ª´ng b√†i h√°t trong playlist
                li.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    playSong(index);
                });
            });
            
            // N·∫øu ƒëang ph√°t nh·∫°c, ti·∫øp t·ª•c ph√°t b√†i h√°t hi·ªán t·∫°i
            if (appData.musicPlaying) {
                audio.src = appData.songs[appData.currentSongIndex].src;
                audio.play();
            }
        }

        // C·∫≠p nh·∫≠t th√¥ng tin b√†i h√°t hi·ªán t·∫°i
        function updateCurrentSong() {
            const currentSong = appData.songs[appData.currentSongIndex];
            document.getElementById('album-cover').src = currentSong.cover;
            document.getElementById('song-title').textContent = currentSong.title;
            document.getElementById('song-artist').textContent = currentSong.artist;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i active trong playlist
            document.querySelectorAll('.playlist-item').forEach((item, index) => {
                if (index === appData.currentSongIndex) {
                    item.classList.add('bg-pink-100', 'text-pink-700');
                    item.classList.remove('hover:bg-gray-100');
                } else {
                    item.classList.remove('bg-pink-100', 'text-pink-700');
                    item.classList.add('hover:bg-gray-100');
                }
            });
        }

        // Ph√°t/t·∫°m d·ª´ng nh·∫°c
        function togglePlay() {
            const audio = document.getElementById('music-player');
            const playIcon = document.getElementById('play-icon');
            
            if (appData.musicPlaying) {
                audio.pause();
                playIcon.classList.remove('fa-pause');
                playIcon.classList.add('fa-play');
                appData.musicPlaying = false;
            } else {
                // N·∫øu ch∆∞a c√≥ src, ƒë·∫∑t src b√†i h√°t hi·ªán t·∫°i
                if (!audio.src) {
                    audio.src = appData.songs[appData.currentSongIndex].src;
                }
                audio.play().then(() => {
                    playIcon.classList.remove('fa-play');
                    playIcon.classList.add('fa-pause');
                    appData.musicPlaying = true;
                }).catch(error => {
                    console.error("L·ªói khi ph√°t nh·∫°c:", error);
                });
            }
        }

        // Ph√°t b√†i h√°t c·ª• th·ªÉ
        function playSong(index) {
            const audio = document.getElementById('music-player');
            appData.currentSongIndex = index;
            audio.src = appData.songs[index].src;
            audio.play().then(() => {
                appData.musicPlaying = true;
                
                // C·∫≠p nh·∫≠t giao di·ªán
                updateCurrentSong();
                document.getElementById('play-icon').classList.remove('fa-play');
                document.getElementById('play-icon').classList.add('fa-pause');
            }).catch(error => {
                console.error("L·ªói khi ph√°t nh·∫°c:", error);
            });
        }

        // B√†i h√°t ti·∫øp theo
        function nextSong() {
            appData.currentSongIndex = (appData.currentSongIndex + 1) % appData.songs.length;
            playSong(appData.currentSongIndex);
        }

        // B√†i h√°t tr∆∞·ªõc ƒë√≥
        function prevSong() {
            appData.currentSongIndex = (appData.currentSongIndex - 1 + appData.songs.length) % appData.songs.length;
            playSong(appData.currentSongIndex);
        }

        // ƒê·ªãnh d·∫°ng th·ªùi gian (ph√∫t:gi√¢y)
        function formatTime(seconds) {
            if (isNaN(seconds)) return "0:00";
            
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        function updateLoveTime() {
            const startDate = new Date("2024-10-08T00:00:00"); // Ng√†y b·∫Øt ƒë·∫ßu y√™u
            const now = new Date();
            let diff = now - startDate;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            diff -= days * (1000 * 60 * 60 * 24);
            const hours = Math.floor(diff / (1000 * 60 * 60));
            diff -= hours * (1000 * 60 * 60);
            const minutes = Math.floor(diff / (1000 * 60));
            diff -= minutes * (1000 * 60);
            const seconds = Math.floor(diff / 1000);
            
            document.getElementById('days-together').textContent = days;
            document.getElementById('hours-together').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes-together').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds-together').textContent = seconds.toString().padStart(2, '0');
        }

        function updateImportantDates() {
            const list = document.getElementById('important-dates-list');
            if (!list) return;
            list.innerHTML = '';
            const today = new Date();
            appData.importantDates.forEach(event => {
                // X·ª≠ l√Ω ng√†y d·∫°ng dd/mm/yyyy ho·∫∑c dd/mm/
                let [day, month, year] = event.date.split('/');
                if (!year || year === '') {
                    year = today.getFullYear();
                }
                let eventDate = new Date(`${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}T00:00:00`);
                // N·∫øu s·ª± ki·ªán ƒë√£ qua trong nƒÉm nay, chuy·ªÉn sang nƒÉm sau
                if (eventDate < today) {
                    eventDate.setFullYear(eventDate.getFullYear() + 1);
                }
                const diffTime = eventDate - today;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                const daysText = diffDays > 0 ? `C√≤n ${diffDays} ng√†y` : (diffDays === 0 ? 'H√¥m nay!' : 'ƒê√£ qua');
                const li = document.createElement('li');
                li.className = 'flex justify-between items-center bg-pink-50 rounded-lg px-4 py-2';
                li.innerHTML = `<span class="font-medium text-gray-700">${event.name}</span><span class="text-pink-600 font-semibold">${daysText}</span>`;
                list.appendChild(li);
            });
        }

        function renderAlbum() {
            const images = [
                "./img/1.jpg",
                "./img/2.jpg",
                "./img/3.jpg",
                "./img/4.jpg",
                "./img/5.jpg",
                "./img/6.jpg",
                "./img/7.jpg",
                "./img/8.jpg",
                "./img/9.jpg",
            ];
            const album = document.getElementById("album");
            if (!album) return;
            album.innerHTML = '';
            images.forEach(link => {
                const slide = document.createElement("div");
                slide.className = "swiper-slide";
                slide.innerHTML = `<img src="${link}" alt="·∫¢nh album">`;
                album.appendChild(slide);
            });
            if (window.albumSwiper) window.albumSwiper.destroy(true, true);
            window.albumSwiper = new Swiper('.swiper', {
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev'
                },
                loop: true
            });
        }

        // T·∫£i danh s√°ch th∆∞
        function loadLetters() {
            const container = document.getElementById('letters-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            appData.letters.forEach(letter => {
                const letterElement = document.createElement('div');
                letterElement.className = 'bg-white rounded-lg overflow-hidden shadow-lg transform transition duration-300 hover:shadow-2xl hover:-translate-y-1 memory-card';
                letterElement.innerHTML = `
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="font-bold text-lg text-pink-600">${letter.title}</h3>
                            <span class="text-sm text-gray-500">${formatDate(letter.date)}</span>
                        </div>
                        <p class="text-gray-700 text-sm leading-relaxed mb-4">${letter.content.substring(0, 150)}${letter.content.length > 150 ? '...' : ''}</p>
                        <div class="flex justify-between items-center">
                            <button class="text-pink-500 hover:text-pink-700 text-sm font-medium read-letter-btn" data-letter-id="${letter.id}">
                                <i class="fas fa-eye mr-1"></i>ƒê·ªçc th∆∞
                            </button>
                            <div class="flex space-x-2">
                                <button class="text-gray-500 hover:text-pink-500 text-sm edit-letter-btn" data-letter-id="${letter.id}">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="text-gray-500 hover:text-red-500 text-sm delete-letter-btn" data-letter-id="${letter.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(letterElement);
            });
            
            // Th√™m s·ª± ki·ªán cho c√°c n√∫t
            addLetterEventListeners();
            
            // Th√™m s·ª± ki·ªán cho form vi·∫øt th∆∞ m·ªõi
            const newLetterForm = document.getElementById('new-letter-form');
            if (newLetterForm) {
                newLetterForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    addNewLetter();
                });
            }
        }

        // Th√™m s·ª± ki·ªán cho c√°c n√∫t th∆∞
        function addLetterEventListeners() {
            // N√∫t ƒë·ªçc th∆∞
            document.querySelectorAll('.read-letter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const letterId = parseInt(this.getAttribute('data-letter-id'));
                    const letter = appData.letters.find(l => l.id === letterId);
                    if (letter) {
                        showLetterModal(letter);
                    }
                });
            });
            
            // N√∫t s·ª≠a th∆∞
            document.querySelectorAll('.edit-letter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const letterId = parseInt(this.getAttribute('data-letter-id'));
                    const letter = appData.letters.find(l => l.id === letterId);
                    if (letter) {
                        editLetter(letter);
                    }
                });
            });
            
            // N√∫t x√≥a th∆∞
            document.querySelectorAll('.delete-letter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const letterId = parseInt(this.getAttribute('data-letter-id'));
                    if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a th∆∞ n√†y?')) {
                        deleteLetter(letterId);
                    }
                });
            });
        }

        // Hi·ªÉn th·ªã modal ƒë·ªçc th∆∞
        function showLetterModal(letter) {
            // T·∫°o modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-pink-600">${letter.title}</h3>
                        <button class="text-gray-500 hover:text-gray-700 text-2xl close-modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="text-sm text-gray-500 mb-4">${formatDate(letter.date)}</div>
                    <div class="text-gray-700 leading-relaxed whitespace-pre-wrap">${letter.content}</div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // S·ª± ki·ªán ƒë√≥ng modal
            modal.querySelector('.close-modal').addEventListener('click', function() {
                document.body.removeChild(modal);
            });
            
            // ƒê√≥ng modal khi click b√™n ngo√†i
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }

        // S·ª≠a th∆∞
        function editLetter(letter) {
            // ƒêi·ªÅn form v·ªõi d·ªØ li·ªáu th∆∞ hi·ªán t·∫°i
            document.getElementById('letter-title').value = letter.title;
            document.getElementById('letter-content').value = letter.content;
            
            // Thay ƒë·ªïi n√∫t submit
            const submitBtn = document.querySelector('#new-letter-form button[type="submit"]');
            submitBtn.innerHTML = '<i class="fas fa-save mr-2"></i>C·∫≠p nh·∫≠t th∆∞';
            submitBtn.setAttribute('data-edit-id', letter.id);
            
            // Scroll ƒë·∫øn form
            document.getElementById('new-letter-form').scrollIntoView({ behavior: 'smooth' });
        }

        // X√≥a th∆∞
        function deleteLetter(letterId) {
            const index = appData.letters.findIndex(l => l.id === letterId);
            if (index !== -1) {
                appData.letters.splice(index, 1);
                loadLetters();
                alert('ƒê√£ x√≥a th∆∞ th√†nh c√¥ng!');
            }
        }

        // Th√™m th∆∞ m·ªõi ho·∫∑c c·∫≠p nh·∫≠t th∆∞
        function addNewLetter() {
            const title = document.getElementById('letter-title').value;
            const content = document.getElementById('letter-content').value;
            const submitBtn = document.querySelector('#new-letter-form button[type="submit"]');
            const editId = submitBtn.getAttribute('data-edit-id');
            
            if (!title || !content) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin!');
                return;
            }
            
            if (editId) {
                // C·∫≠p nh·∫≠t th∆∞ hi·ªán c√≥
                const letterIndex = appData.letters.findIndex(l => l.id === parseInt(editId));
                if (letterIndex !== -1) {
                    appData.letters[letterIndex].title = title;
                    appData.letters[letterIndex].content = content;
                    
                    // Reset form v√† n√∫t
                    submitBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>G·ª≠i th∆∞ üíñ';
                    submitBtn.removeAttribute('data-edit-id');
                    
                    const successMessage = document.createElement('div');
                    successMessage.className = 'bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4';
                    successMessage.innerHTML = 'Th∆∞ ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng! üíñ';
                    
                    const form = document.getElementById('new-letter-form');
                    form.parentNode.insertBefore(successMessage, form);
                    
                    setTimeout(() => {
                        if (successMessage.parentNode) {
                            successMessage.parentNode.removeChild(successMessage);
                        }
                    }, 3000);
                }
            } else {
                // Th√™m th∆∞ m·ªõi
                const newLetter = {
                    id: Date.now(), // S·ª≠ d·ª•ng timestamp l√†m ID
                    title: title,
                    content: content,
                    date: new Date().toISOString().split('T')[0] // Format YYYY-MM-DD
                };
                
                appData.letters.unshift(newLetter); // Th√™m v√†o ƒë·∫ßu danh s√°ch
                
                const successMessage = document.createElement('div');
                successMessage.className = 'bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4';
                successMessage.innerHTML = 'Th∆∞ ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng! üíñ';
                
                const form = document.getElementById('new-letter-form');
                form.parentNode.insertBefore(successMessage, form);
                
                setTimeout(() => {
                    if (successMessage.parentNode) {
                        successMessage.parentNode.removeChild(successMessage);
                    }
                }, 3000);
            }
            
            loadLetters();
            document.getElementById('new-letter-form').reset();
        }

        // ƒê·ªãnh d·∫°ng ng√†y
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
        // Ch·∫∑n b√¥i ƒëen vƒÉn b·∫£n
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });

        // Ch·∫∑n menu chu·ªôt ph·∫£i
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // Ch·∫∑n copy (Ctrl+C)
        document.addEventListener('copy', function(e) {
            e.preventDefault();
            alert('Kh√¥ng cho ph√©p sao ch√©p n·ªôi dung!');
        });

        // Ch·∫∑n cut (Ctrl+X)
        document.addEventListener('cut', function(e) {
            e.preventDefault();
        });

        // Ch·∫∑n paste (Ctrl+V)
        document.addEventListener('paste', function(e) {
            e.preventDefault();
        });

        // Hi·ªÉn th·ªã tab L·ªói c·ªßa anh
        function showMistakeTab() {
          // L·∫•y template
          const template = document.getElementById('mistake-template');
          const content = template.content.cloneNode(true);
          const mainContent = document.getElementById('main-content');
          mainContent.innerHTML = '';
          mainContent.appendChild(content);

          // G·∫Øn l·∫°i s·ª± ki·ªán cho form v√† load d·ªØ li·ªáu
          setTimeout(() => {
            const form = document.getElementById("loveForm");
            if (form) {
              form.addEventListener("submit", function(e) {
                e.preventDefault();
                document.getElementById("timestamp").value = new Date().toLocaleString();
                const formData = new FormData(form);
                fetch("https://sheetdb.io/api/v1/9y1uawujxex5m", {
                  method: "POST",
                  body: formData
                })
                .then(res => res.json())
                .then(() => {
                  document.getElementById("successMsg").style.display = "block";
                  form.reset();
                  loadEntries();
                });
              });
            }
            window.loadEntries = function() {
              fetch("https://sheetdb.io/api/v1/9y1uawujxex5m")
                .then(response => response.json())
                .then(data => {
                  const entriesDiv = document.getElementById("entries");
                  const countDiv = document.getElementById("errorCount");
                  entriesDiv.innerHTML = '<h2>Danh s√°ch l·ªói c·ªßa anh üìú</h2>';
                  countDiv.textContent = `T·ªïng c·ªông anh ƒë√£ g√¢y ra ${data.length} l·ªói üò¢`;
                  entriesDiv.appendChild(countDiv);
                  data.reverse().forEach(entry => {
                    const div = document.createElement("div");
                    div.className = "entry";
                    div.innerHTML = `
                      <p><strong>L·ªói:</strong> ${entry.mistake}</p>
                      <p><strong>Em mu·ªën anh:</strong> ${entry.suggestion}</p>
                      <p style="font-size: 0.85em; color: gray;">üïí ${entry.time}</p>
                    `;
                    entriesDiv.appendChild(div);
                  });
                });
            }
            window.loadEntries();
          }, 0);
        }


    </script>
    
  <script>
    // Ch·∫∑n chu·ªôt ph·∫£i
    document.addEventListener("contextmenu", function(e) {
      e.preventDefault();
    });

    // Ch·∫∑n ph√≠m t·∫Øt
    document.addEventListener("keydown", function(e) {
      // D√πng t·ªï h·ª£p ph√≠m Ctrl + ...
      if (e.ctrlKey) {
        const blocked = ['u', 's', 'c', 'x', 'v', 'p', 'a'];
        if (blocked.includes(e.key.toLowerCase())) {
          e.preventDefault();
        }
      }

      // Ch·∫∑n F12
      if (e.key === "F12") {
        e.preventDefault();
      }

      // Ch·∫∑n Ctrl+Shift+I / J / C
      if (e.ctrlKey && e.shiftKey) {
        const blockedCombo = ['i', 'j', 'c'];
        if (blockedCombo.includes(e.key.toLowerCase())) {
          e.preventDefault();
        }
      }
    });
  </script>
</body>
</html>